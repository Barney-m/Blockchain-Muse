{"remainingRequest":"C:\\Users\\kensh\\Desktop\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\kensh\\Desktop\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\kensh\\Desktop\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\kensh\\Desktop\\frontend\\src\\view\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\kensh\\Desktop\\frontend\\src\\view\\Home.vue","mtime":1606828559023},{"path":"C:\\Users\\kensh\\Desktop\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\kensh\\Desktop\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\kensh\\Desktop\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\kensh\\Desktop\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL2tlbnNoL0Rlc2t0b3AvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgU29uZ0xpc3QgZnJvbSAiQC9jb21wb25lbnRzL1NvbmdMaXN0IjsKaW1wb3J0IEFkZFNvbmdGb3JtIGZyb20gIkAvY29tcG9uZW50cy9BZGRTb25nRm9ybSI7CmltcG9ydCB7IHV0aWxzIH0gZnJvbSAiQC9taXhpbnMvdXRpbHMiOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgU29uZ0xpc3Q6IFNvbmdMaXN0LAogICAgQWRkU29uZ0Zvcm06IEFkZFNvbmdGb3JtCiAgfSwKICBtaXhpbnM6IFt1dGlsc10sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNvbmdzOiBbXSwKICAgICAgc29uZ0NvdW50OiAwCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChbX3RoaXMuZ2V0QWxsU29uZ3MoKSwgX3RoaXMuZ2V0U29uZ0NvdW50KCldKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldEFsbFNvbmdzOiBmdW5jdGlvbiBnZXRBbGxTb25ncygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDA7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLiRjb250cmFjdC5nZXRBbGxTb25ncygpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzMi5zb25ncyA9IHJlc3VsdC5tYXAoZnVuY3Rpb24gKHNvbmcpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICB0aXRsZTogc29uZy50aXRsZSwKICAgICAgICAgICAgICAgICAgICBhdXRob3I6IHNvbmcuYXV0aG9yLAogICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiBzb25nLmNhdGVnb3J5LAogICAgICAgICAgICAgICAgICAgIGlzbW46IHNvbmcuaXNtbiwKICAgICAgICAgICAgICAgICAgICBhdmFpbGFibGU6IHNvbmcuYXZhaWxhYmxlCiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSA3OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDApOwoKICAgICAgICAgICAgICAgIF90aGlzMi5oYW5kbGUoX2NvbnRleHQyLnQwKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1swLCA3XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBnZXRTb25nQ291bnQ6IGZ1bmN0aW9uIGdldFNvbmdDb3VudCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy4kY29udHJhY3QuZ2V0U29uZ0NvdW50KCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF90aGlzMy5zb25nQ291bnQgPSBfY29udGV4dDMuc2VudDsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgdXBkYXRlU29uZ0xpc3Q6IGZ1bmN0aW9uIHVwZGF0ZVNvbmdMaXN0KGV2ZW50KSB7CiAgICAgIHN3aXRjaCAoZXZlbnQubmFtZSkgewogICAgICAgIGNhc2UgIm9uQWRkU29uZyI6CiAgICAgICAgICB7CiAgICAgICAgICAgIHRoaXMuc29uZ3MucHVzaChldmVudC5kYXRhKTsKICAgICAgICAgICAgdGhpcy5zb25nQ291bnQrKzsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CgogICAgICAgIGNhc2UgIm9uSXNzdWVTb25nIjoKICAgICAgICAgIHsKICAgICAgICAgICAgdmFyIHNvbmdJZHggPSB0aGlzLmZpbmRTb25nSW5kZXgoZXZlbnQuZGF0YSk7CiAgICAgICAgICAgIHRoaXMuc29uZ3Nbc29uZ0lkeF0uYXZhaWxhYmxlID0gZmFsc2U7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQoKICAgICAgICBjYXNlICJvblJldHVyblNvbmciOgogICAgICAgICAgewogICAgICAgICAgICB2YXIgX3NvbmdJZHggPSB0aGlzLmZpbmRTb25nSW5kZXgoZXZlbnQuZGF0YSk7CgogICAgICAgICAgICB0aGlzLnNvbmdzW19zb25nSWR4XS5hdmFpbGFibGUgPSB0cnVlOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KCiAgICAgICAgY2FzZSAib25EZWxldGVTb25nIjoKICAgICAgICAgIHsKICAgICAgICAgICAgdmFyIF9zb25nSWR4MiA9IHRoaXMuZmluZFNvbmdJbmRleChldmVudC5kYXRhKTsKCiAgICAgICAgICAgIHRoaXMuc29uZ3Muc3BsaWNlKF9zb25nSWR4MiwgMSk7CiAgICAgICAgICAgIHRoaXMuc29uZ0NvdW50LS07CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgZmluZFNvbmdJbmRleDogZnVuY3Rpb24gZmluZFNvbmdJbmRleChpc21uKSB7CiAgICAgIHJldHVybiB0aGlzLnNvbmdzLmZpbmRJbmRleChmdW5jdGlvbiAoc29uZykgewogICAgICAgIHJldHVybiBzb25nLmlzbW4gPT09IGlzbW47CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAmBA,OAAA,QAAA,MAAA,uBAAA;AACA,OAAA,WAAA,MAAA,0BAAA;AACA,SAAA,KAAA,QAAA,gBAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,QAAA,EAAA,QADA;AAEA,IAAA,WAAA,EAAA;AAFA,GADA;AAMA,EAAA,MAAA,EAAA,CAAA,KAAA,CANA;AAQA,EAAA,IARA,kBAQA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,SAAA,EAAA;AAFA,KAAA;AAIA,GAbA;AAeA,EAAA,OAfA,qBAeA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACA,OAAA,CAAA,GAAA,CAAA,CAAA,KAAA,CAAA,WAAA,EAAA,EAAA,KAAA,CAAA,YAAA,EAAA,CAAA,CADA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,GAjBA;AAmBA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEA,MAAA,CAAA,SAAA,CAAA,WAAA,EAFA;;AAAA;AAEA,gBAAA,MAFA;AAIA,gBAAA,MAAA,CAAA,KAAA,GAAA,MAAA,CAAA,GAAA,CAAA,UAAA,IAAA,EAAA;AACA,yBAAA;AACA,oBAAA,KAAA,EAAA,IAAA,CAAA,KADA;AAEA,oBAAA,MAAA,EAAA,IAAA,CAAA,MAFA;AAGA,oBAAA,QAAA,EAAA,IAAA,CAAA,QAHA;AAIA,oBAAA,IAAA,EAAA,IAAA,CAAA,IAJA;AAKA,oBAAA,SAAA,EAAA,IAAA,CAAA;AALA,mBAAA;AAOA,iBARA,CAAA;AAJA;AAAA;;AAAA;AAAA;AAAA;;AAcA,gBAAA,MAAA,CAAA,MAAA;;AAdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBA,KAjBA;AAmBA,IAAA,YAnBA,0BAmBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,MAAA,CAAA,SAAA,CAAA,YAAA,EADA;;AAAA;AACA,gBAAA,MAAA,CAAA,SADA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,KArBA;AAuBA,IAAA,cAvBA,0BAuBA,KAvBA,EAuBA;AACA,cAAA,KAAA,CAAA,IAAA;AACA,aAAA,WAAA;AAAA;AACA,iBAAA,KAAA,CAAA,IAAA,CAAA,KAAA,CAAA,IAAA;AACA,iBAAA,SAAA;AACA;AACA;;AACA,aAAA,aAAA;AAAA;AACA,gBAAA,OAAA,GAAA,KAAA,aAAA,CAAA,KAAA,CAAA,IAAA,CAAA;AACA,iBAAA,KAAA,CAAA,OAAA,EAAA,SAAA,GAAA,KAAA;AACA;AACA;;AACA,aAAA,cAAA;AAAA;AACA,gBAAA,QAAA,GAAA,KAAA,aAAA,CAAA,KAAA,CAAA,IAAA,CAAA;;AACA,iBAAA,KAAA,CAAA,QAAA,EAAA,SAAA,GAAA,IAAA;AACA;AACA;;AACA,aAAA,cAAA;AAAA;AACA,gBAAA,SAAA,GAAA,KAAA,aAAA,CAAA,KAAA,CAAA,IAAA,CAAA;;AACA,iBAAA,KAAA,CAAA,MAAA,CAAA,SAAA,EAAA,CAAA;AACA,iBAAA,SAAA;AACA;AACA;AArBA;AAuBA,KA/CA;AAiDA,IAAA,aAjDA,yBAiDA,IAjDA,EAiDA;AACA,aAAA,KAAA,KAAA,CAAA,SAAA,CAAA,UAAA,IAAA;AAAA,eAAA,IAAA,CAAA,IAAA,KAAA,IAAA;AAAA,OAAA,CAAA;AACA;AAnDA;AAnBA,CAAA","sourcesContent":["<template>\n\t<section class=\"section\">\n\t\t<div class=\"container is-fluid\">\n\t\t\t<div class=\"columns\">\n\t\t\t\t<AddSongForm @onAddSong=\"updateSongList\" class=\"column is-one-third\" />\n\t\t\t\t<SongList\n\t\t\t\t\t@onIssueSong=\"updateSongList\"\n\t\t\t\t\t@onReturnSong=\"updateSongList\"\n\t\t\t\t\t@onDeleteSong=\"updateSongList\"\n\t\t\t\t\tclass=\"column\"\n\t\t\t\t\t:songs=\"songs\"\n\t\t\t\t\t:song-count=\"songCount\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t</section>\n</template>\n\n<script>\nimport SongList from \"@/components/SongList\";\nimport AddSongForm from \"@/components/AddSongForm\";\nimport { utils } from \"@/mixins/utils\";\n\nexport default {\n\tcomponents: {\n\t\tSongList,\n\t\tAddSongForm\n\t},\n\n\tmixins: [utils],\n\n\tdata() {\n\t\treturn {\n\t\t\tsongs: [],\n\t\t\tsongCount: 0\n\t\t};\n\t},\n\n\tasync created() {\n\t\tawait Promise.all([this.getAllSongs(), this.getSongCount()]);\n\t},\n\n\tmethods: {\n\t\tasync getAllSongs() {\n\t\t\ttry {\n\t\t\t\tconst result = await this.$contract.getAllSongs();\n\n\t\t\t\tthis.songs = result.map((song) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttitle: song.title,\n\t\t\t\t\t\tauthor: song.author,\n\t\t\t\t\t\tcategory: song.category,\n\t\t\t\t\t\tismn: song.ismn,\n\t\t\t\t\t\tavailable: song.available\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t} catch (error) {\n\t\t\t\tthis.handle(error);\n\t\t\t}\n\t\t},\n\n\t\tasync getSongCount() {\n\t\t\tthis.songCount = await this.$contract.getSongCount();\n\t\t},\n\n\t\tupdateSongList(event) {\n\t\t\tswitch (event.name) {\n\t\t\t\tcase \"onAddSong\": {\n\t\t\t\t\tthis.songs.push(event.data);\n\t\t\t\t\tthis.songCount++;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase \"onIssueSong\": {\n\t\t\t\t\tconst songIdx = this.findSongIndex(event.data);\n\t\t\t\t\tthis.songs[songIdx].available = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase \"onReturnSong\": {\n\t\t\t\t\tconst songIdx = this.findSongIndex(event.data);\n\t\t\t\t\tthis.songs[songIdx].available = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase \"onDeleteSong\": {\n\t\t\t\t\tconst songIdx = this.findSongIndex(event.data);\n\t\t\t\t\tthis.songs.splice(songIdx, 1);\n\t\t\t\t\tthis.songCount--;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tfindSongIndex(ismn) {\n\t\t\treturn this.songs.findIndex((song) => song.ismn === ismn);\n\t\t}\n\t}\n};\n</script>\n"],"sourceRoot":"src/view"}]}