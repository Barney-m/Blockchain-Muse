{"remainingRequest":"C:\\Users\\kensh\\Documents\\GitHub\\muse-dapp\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\kensh\\Documents\\GitHub\\muse-dapp\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\kensh\\Documents\\GitHub\\muse-dapp\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\kensh\\Documents\\GitHub\\muse-dapp\\frontend\\src\\view\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\kensh\\Documents\\GitHub\\muse-dapp\\frontend\\src\\view\\Home.vue","mtime":1606824168758},{"path":"C:\\Users\\kensh\\Documents\\GitHub\\muse-dapp\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\kensh\\Documents\\GitHub\\muse-dapp\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\kensh\\Documents\\GitHub\\muse-dapp\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\kensh\\Documents\\GitHub\\muse-dapp\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL2tlbnNoL0RvY3VtZW50cy9HaXRIdWIvbXVzZS1kYXBwL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFNvbmdMaXN0IGZyb20gIkAvY29tcG9uZW50cy9Tb25nTGlzdCI7CmltcG9ydCBBZGRTb25nRm9ybSBmcm9tICJAL2NvbXBvbmVudHMvQWRkU29uZ0Zvcm0iOwppbXBvcnQgeyB1dGlscyB9IGZyb20gIkAvbWl4aW5zL3V0aWxzIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFNvbmdMaXN0OiBTb25nTGlzdCwKICAgIEFkZFNvbmdGb3JtOiBBZGRTb25nRm9ybQogIH0sCiAgbWl4aW5zOiBbdXRpbHNdLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzb25nczogW10sCiAgICAgIHNvbmdDb3VudDogMAogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoW190aGlzLmdldEFsbFNvbmdzKCksIF90aGlzLmdldFNvbmdDb3VudCgpXSk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRBbGxTb25nczogZnVuY3Rpb24gZ2V0QWxsU29uZ3MoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi4kY29udHJhY3QuZ2V0QWxsU29uZ3MoKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpczIuc29uZ3MgPSByZXN1bHQubWFwKGZ1bmN0aW9uIChzb25nKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHNvbmcudGl0bGUsCiAgICAgICAgICAgICAgICAgICAgYXV0aG9yOiBzb25nLmF1dGhvciwKICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogc29uZy5jYXRlZ29yeSwKICAgICAgICAgICAgICAgICAgICBpc21uOiBzb25nLmlzbW4sCiAgICAgICAgICAgICAgICAgICAgYXZhaWxhYmxlOiBzb25nLmF2YWlsYWJsZQogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gNzsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSgwKTsKCiAgICAgICAgICAgICAgICBfdGhpczIuaGFuZGxlKF9jb250ZXh0Mi50MCk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbMCwgN11dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2V0U29uZ0NvdW50OiBmdW5jdGlvbiBnZXRTb25nQ291bnQoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuJGNvbnRyYWN0LmdldFNvbmdDb3VudCgpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfdGhpczMuc29uZ0NvdW50ID0gX2NvbnRleHQzLnNlbnQ7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHVwZGF0ZVNvbmdMaXN0OiBmdW5jdGlvbiB1cGRhdGVTb25nTGlzdChldmVudCkgewogICAgICBzd2l0Y2ggKGV2ZW50Lm5hbWUpIHsKICAgICAgICBjYXNlICJvbkFkZFNvbmciOgogICAgICAgICAgewogICAgICAgICAgICB0aGlzLnNvbmdzLnB1c2goZXZlbnQuZGF0YSk7CiAgICAgICAgICAgIHRoaXMuc29uZ0NvdW50Kys7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQoKICAgICAgICBjYXNlICJvbklzc3VlU29uZyI6CiAgICAgICAgICB7CiAgICAgICAgICAgIHZhciBzb25nSWR4ID0gdGhpcy5maW5kU29uZ0luZGV4KGV2ZW50LmRhdGEpOwogICAgICAgICAgICB0aGlzLnNvbmdzW3NvbmdJZHhdLmF2YWlsYWJsZSA9IGZhbHNlOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KCiAgICAgICAgY2FzZSAib25SZXR1cm5Tb25nIjoKICAgICAgICAgIHsKICAgICAgICAgICAgdmFyIF9zb25nSWR4ID0gdGhpcy5maW5kU29uZ0luZGV4KGV2ZW50LmRhdGEpOwoKICAgICAgICAgICAgdGhpcy5zb25nc1tfc29uZ0lkeF0uYXZhaWxhYmxlID0gdHJ1ZTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CgogICAgICAgIGNhc2UgIm9uRGVsZXRlU29uZyI6CiAgICAgICAgICB7CiAgICAgICAgICAgIHZhciBfc29uZ0lkeDIgPSB0aGlzLmZpbmRTb25nSW5kZXgoZXZlbnQuZGF0YSk7CgogICAgICAgICAgICB0aGlzLnNvbmdzLnNwbGljZShfc29uZ0lkeDIsIDEpOwogICAgICAgICAgICB0aGlzLnNvbmdDb3VudC0tOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGZpbmRTb25nSW5kZXg6IGZ1bmN0aW9uIGZpbmRTb25nSW5kZXgoaXNtbikgewogICAgICByZXR1cm4gdGhpcy5zb25ncy5maW5kSW5kZXgoZnVuY3Rpb24gKHNvbmcpIHsKICAgICAgICByZXR1cm4gc29uZy5pc21uID09PSBpc21uOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAmBA,OAAA,QAAA,MAAA,uBAAA;AACA,OAAA,WAAA,MAAA,0BAAA;AACA,SAAA,KAAA,QAAA,gBAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,QAAA,EAAA,QADA;AAEA,IAAA,WAAA,EAAA;AAFA,GADA;AAMA,EAAA,MAAA,EAAA,CAAA,KAAA,CANA;AAQA,EAAA,IARA,kBAQA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,SAAA,EAAA;AAFA,KAAA;AAIA,GAbA;AAeA,EAAA,OAfA,qBAeA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACA,OAAA,CAAA,GAAA,CAAA,CAAA,KAAA,CAAA,WAAA,EAAA,EAAA,KAAA,CAAA,YAAA,EAAA,CAAA,CADA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,GAjBA;AAmBA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEA,MAAA,CAAA,SAAA,CAAA,WAAA,EAFA;;AAAA;AAEA,gBAAA,MAFA;AAIA,gBAAA,MAAA,CAAA,KAAA,GAAA,MAAA,CAAA,GAAA,CAAA,UAAA,IAAA,EAAA;AACA,yBAAA;AACA,oBAAA,KAAA,EAAA,IAAA,CAAA,KADA;AAEA,oBAAA,MAAA,EAAA,IAAA,CAAA,MAFA;AAGA,oBAAA,QAAA,EAAA,IAAA,CAAA,QAHA;AAIA,oBAAA,IAAA,EAAA,IAAA,CAAA,IAJA;AAKA,oBAAA,SAAA,EAAA,IAAA,CAAA;AALA,mBAAA;AAOA,iBARA,CAAA;AAJA;AAAA;;AAAA;AAAA;AAAA;;AAcA,gBAAA,MAAA,CAAA,MAAA;;AAdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBA,KAjBA;AAmBA,IAAA,YAnBA,0BAmBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,MAAA,CAAA,SAAA,CAAA,YAAA,EADA;;AAAA;AACA,gBAAA,MAAA,CAAA,SADA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,KArBA;AAuBA,IAAA,cAvBA,0BAuBA,KAvBA,EAuBA;AACA,cAAA,KAAA,CAAA,IAAA;AACA,aAAA,WAAA;AAAA;AACA,iBAAA,KAAA,CAAA,IAAA,CAAA,KAAA,CAAA,IAAA;AACA,iBAAA,SAAA;AACA;AACA;;AACA,aAAA,aAAA;AAAA;AACA,gBAAA,OAAA,GAAA,KAAA,aAAA,CAAA,KAAA,CAAA,IAAA,CAAA;AACA,iBAAA,KAAA,CAAA,OAAA,EAAA,SAAA,GAAA,KAAA;AACA;AACA;;AACA,aAAA,cAAA;AAAA;AACA,gBAAA,QAAA,GAAA,KAAA,aAAA,CAAA,KAAA,CAAA,IAAA,CAAA;;AACA,iBAAA,KAAA,CAAA,QAAA,EAAA,SAAA,GAAA,IAAA;AACA;AACA;;AACA,aAAA,cAAA;AAAA;AACA,gBAAA,SAAA,GAAA,KAAA,aAAA,CAAA,KAAA,CAAA,IAAA,CAAA;;AACA,iBAAA,KAAA,CAAA,MAAA,CAAA,SAAA,EAAA,CAAA;AACA,iBAAA,SAAA;AACA;AACA;AArBA;AAuBA,KA/CA;AAiDA,IAAA,aAjDA,yBAiDA,IAjDA,EAiDA;AACA,aAAA,KAAA,KAAA,CAAA,SAAA,CAAA,UAAA,IAAA;AAAA,eAAA,IAAA,CAAA,IAAA,KAAA,IAAA;AAAA,OAAA,CAAA;AACA;AAnDA;AAnBA,CAAA","sourcesContent":["<template>\n\t<section class=\"section\">\n\t\t<div class=\"container is-fluid\">\n\t\t\t<div class=\"columns\">\n\t\t\t\t<AddSongForm @onAddSong=\"updateSongList\" class=\"column is-one-third\" />\n\t\t\t\t<SongList\n\t\t\t\t\t@onIssueSong=\"updateSongList\"\n\t\t\t\t\t@onReturnSong=\"updateSongList\"\n\t\t\t\t\t@onDeleteSong=\"updateSongList\"\n\t\t\t\t\tclass=\"column\"\n\t\t\t\t\t:songs=\"songs\"\n\t\t\t\t\t:song-count=\"songCount\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t</section>\n</template>\n\n<script>\nimport SongList from \"@/components/SongList\";\nimport AddSongForm from \"@/components/AddSongForm\";\nimport { utils } from \"@/mixins/utils\";\n\nexport default {\n\tcomponents: {\n\t\tSongList,\n\t\tAddSongForm\n\t},\n\n\tmixins: [utils],\n\n\tdata() {\n\t\treturn {\n\t\t\tsongs: [],\n\t\t\tsongCount: 0\n\t\t};\n\t},\n\n\tasync created() {\n\t\tawait Promise.all([this.getAllSongs(), this.getSongCount()]);\n\t},\n\n\tmethods: {\n\t\tasync getAllSongs() {\n\t\t\ttry {\n\t\t\t\tconst result = await this.$contract.getAllSongs();\n\n\t\t\t\tthis.songs = result.map((song) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttitle: song.title,\n\t\t\t\t\t\tauthor: song.author,\n\t\t\t\t\t\tcategory: song.category,\n\t\t\t\t\t\tismn: song.ismn,\n\t\t\t\t\t\tavailable: song.available\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t} catch (error) {\n\t\t\t\tthis.handle(error);\n\t\t\t}\n\t\t},\n\n\t\tasync getSongCount() {\n\t\t\tthis.songCount = await this.$contract.getSongCount();\n\t\t},\n\n\t\tupdateSongList(event) {\n\t\t\tswitch (event.name) {\n\t\t\t\tcase \"onAddSong\": {\n\t\t\t\t\tthis.songs.push(event.data);\n\t\t\t\t\tthis.songCount++;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase \"onIssueSong\": {\n\t\t\t\t\tconst songIdx = this.findSongIndex(event.data);\n\t\t\t\t\tthis.songs[songIdx].available = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase \"onReturnSong\": {\n\t\t\t\t\tconst songIdx = this.findSongIndex(event.data);\n\t\t\t\t\tthis.songs[songIdx].available = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase \"onDeleteSong\": {\n\t\t\t\t\tconst songIdx = this.findSongIndex(event.data);\n\t\t\t\t\tthis.songs.splice(songIdx, 1);\n\t\t\t\t\tthis.songCount--;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tfindSongIndex(ismn) {\n\t\t\treturn this.songs.findIndex((song) => song.ismn === ismn);\n\t\t}\n\t}\n};\n</script>\n"],"sourceRoot":"src/view"}]}